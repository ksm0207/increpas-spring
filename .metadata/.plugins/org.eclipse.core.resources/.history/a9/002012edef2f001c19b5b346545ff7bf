<%@page import="mybatis.vo.EmpVO"%>
<%@page import="mybatis.dao.EmpDAO"%>
<%@page import="org.springframework.context.support.ClassPathXmlApplicationContext"%>
<%@page import="org.springframework.beans.factory.BeanFactory"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

<%
	BeanFactory bf = new ClassPathXmlApplicationContext("config.xml");
	System.out.println("BF : "+ bf);
	
	// EmpVO[] vo = (EmpVO[])bf.getBean("total");
	
	EmpDAO dao = (EmpDAO)bf.getBean("total");
	
	// 전체 사원 가져오기
	EmpVO[] vo = dao.getTotal();
%>

	<ul>

<%
	for(EmpVO evo : vo){
%>
	<li>
	<c:forEach var="evo" items="${vo}">
		<span>${evo.employee_id}</span>
	</c:forEach>
		<span><%=evo.getEmployee_id() %></span>
		<span><%=evo.getFirst_name() %></span>
		<span><%=evo.getJob_id() %></span>
		<span><%=evo.getHire_date() %></span>
		<span><%=evo.getDepartment_id() %></span>
	</li>
<%
	}
%>
</ul>

</body>
</html>